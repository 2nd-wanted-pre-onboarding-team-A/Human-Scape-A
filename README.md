![1_ePn61nZEatSdCPKVl5yxZQ](https://user-images.githubusercontent.com/89339349/141935627-71b33a42-d56a-4778-9312-09c57eccecdb.png)

# 👩‍💻 Team

| 이름   | Github                                      | 담당 역할                                                    |
| ------ | ------------------------------------------- | ------------------------------------------------------------ |
| 양수영 | [tasddc1226](https://github.com/tasddc1226) | DB Modeling, 수집 스크립트(batch task)작성 및 Logging 로직 작성 |
| 권은경 | [fore0919](https://github.com/fore0919)     | 최근 일주일내에 업데이트 된 임상정보 리스트 view, 임상정보 검색 및 Detail view, API 문서화 |
| 윤상민 | [redtea89](https://github.com/redtea89)     | Docker 배포 및 문서화, 수집 스크립트(batch task) 작성, 가산점 기능 구현, 실행 Guide 작성 |

ㅤ👪 ㅤ공동작업 : 공공 API 및 요구사항 분석

```
프로젝트 진행 기간 2022.05.10 09:00 ~ 2022.05.13 18:00
```

## [`Team-A-notion`](https://pretty-marlin-13a.notion.site/Team-A-03cf51c7174847ce88a6302e6939ea2a)

  - 과제 요구 분석 및 역할 분담, 개발 일정 공유를 위해 사용

## 사용 기술

[![Python](https://camo.githubusercontent.com/a1b2dac5667822ee0d98ae6d799da61987fd1658dfeb4d2ca6e3c99b1535ebd8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d3336373041303f7374796c653d666f722d7468652d6261646765266c6f676f3d707974686f6e266c6f676f436f6c6f723d666664643534)](https://camo.githubusercontent.com/a1b2dac5667822ee0d98ae6d799da61987fd1658dfeb4d2ca6e3c99b1535ebd8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d3336373041303f7374796c653d666f722d7468652d6261646765266c6f676f3d707974686f6e266c6f676f436f6c6f723d666664643534)ㅤ[![Django](https://camo.githubusercontent.com/5473e0d3006bb7e662bdf754d830a026ce050be61f1cbbd4689783ae49950b93/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646a616e676f2d2532333039324532302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d646a616e676f266c6f676f436f6c6f723d7768697465)](https://camo.githubusercontent.com/5473e0d3006bb7e662bdf754d830a026ce050be61f1cbbd4689783ae49950b93/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646a616e676f2d2532333039324532302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d646a616e676f266c6f676f436f6c6f723d7768697465)ㅤ[![MySQL](https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white)](https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white)ㅤ[![Docker](https://camo.githubusercontent.com/6b7f701cf0bea42833751b754688f1a27b6090fdf90bf2b226addff01be817f0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f636b65722d2532333064623765642e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d646f636b6572266c6f676f436f6c6f723d7768697465)](https://camo.githubusercontent.com/6b7f701cf0bea42833751b754688f1a27b6090fdf90bf2b226addff01be817f0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f636b65722d2532333064623765642e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d646f636b6572266c6f676f436f6c6f723d7768697465)ㅤ[![Postman](https://camo.githubusercontent.com/3f0e26b0951bab845a1bb9a7198ecca0da272e462921b6edd85879f3673b6927/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f506f73746d616e2d4646364333373f7374796c653d666f722d7468652d6261646765266c6f676f3d706f73746d616e266c6f676f436f6c6f723d7768697465)](https://camo.githubusercontent.com/3f0e26b0951bab845a1bb9a7198ecca0da272e462921b6edd85879f3673b6927/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f506f73746d616e2d4646364333373f7374796c653d666f722d7468652d6261646765266c6f676f3d706f73746d616e266c6f676f436f6c6f723d7768697465)ㅤ[![GitHub](https://camo.githubusercontent.com/f6d50128cb007f85916b7a899da5d94f654dce35a37331c8d28573aef46f4274/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769746875622d2532333132313031312e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562266c6f676f436f6c6f723d7768697465)](https://camo.githubusercontent.com/f6d50128cb007f85916b7a899da5d94f654dce35a37331c8d28573aef46f4274/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769746875622d2532333132313031312e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562266c6f676f436f6c6f723d7768697465)

## 개인별 구현방법 및 어려웠던 점

- 양수영
  - [프로젝트 회고 및 느낀점](https://tasddc.tistory.com/141)

  

- 권은경

  - .
  - .

  

- 윤상민

  - 도전과제 batch_task(실패)
    - 실패이유: 도전과제 batch_task를 구현하는데 실패했는데 가장 큰 이유는 문제를 정확하게 이해하지 못한 채 코드작성을 시작했기 때문이다. 임상정보를 가져오는 또다른 API를 찾아서 기존 과제와 병합할 수 있느냐로 해석해야 할 것을, 임상정보와 관련된 또다른 API를 찾아서 기본 과제를 한번 더 풀어라고 이해했다. 
    - 보완할 점: 요구사항 분석단계에서 내가 이해했다고 생각하는 것을 다시 다른 팀원과 공유하여 크로스체킹을 명확하게 했어야 했는데 그러지 않고 진행했기 때문이고, Pull request를 좀 더 일찍하여 리뷰를 받았다면 잘못된 길이었음을 좀 더 일찍 알아챌 수 있었을 것이라 생각한다. 
  - 배포
    - 클라우드 가상머신을 이용하여 Docker로 배포를 진행하였다.  사실 이 부분은 이전해 해본 적이 있었기에 큰 어려움은 겪지 않았다. 
  - 기타
    - 배포에 그리 많은 시간을 할애하지 않않고 도전과제도 마무리를 못하는 정도였다면 분명 시간이 꽤 있었을 텐데 무얼 했으냐? 라는 질문을 하게되는데, 이번 과제에서 가장 어려웠던 점은 자기관리였던 것 같다. 지금이 3주차 과제를 진행하고 있는데, 1~2주차에 이곳에 신경을 집중한다는 이유로 운동이나 취미활동, 먹는 것들까지도 제대로 신경쓰지 못했다. 그리고 그것의 부채가 이번주에 나타나고 있었던 것 같다. 
    - 보완할 점: 모니터에 앉아있는 시간을 무작정 늘릴 것이 아니라 생활패턴을 잘 가꿔가는것이 무엇보다 중요하겠다는 생각이 들었던 프로젝트 기간이었다. 



## 프로그램 실행방법

###### 로컬환경에서 이 프로그램을 실행시키려면 Django SECRET_KEY와 API KEY가 필요하다. 이 실행방법은 KEY를 알고 있다는 가정하에 작성되었다. (팀원중 window사용자가 없어 mac만 작성)



> ###### MAC OS



#### 1번. 터미널에에서 프로그램을 내려받을 폴더로 이동한다.  (Documents 디렉터리 예시)

```bash
% cd ~/Documents
```



#### 2번. git clone으로 파일을 받고 프로젝트 폴더로 이동한다. 

```bash
% git clone https://github.com/2nd-wanted-pre-onboarding-team-A/Human-Scape-A.git
% cd Human-Scape-A
```



#### 3번. 폴더 트리 확인

```bash
% ls

# 예시 화면
README.md   human     requirements.txt
__pycache__   manage.py   research
core      dockerfile    paper
```

###### 앞으로 이 디렉터리의 상태를 "프로젝트 폴더"라 부르겠다. 



#### 4번. 파이썬 설치 확인

```bash
% python --version

# 예시화면
Python 3.8.10
```

###### 만약 파이썬 3.8이상이 설치되어있지 않다면 [링크](https://www.python.org/downloads/) 로 이동하여 파이썬 3.8.10 (혹은 3.8.12) 를 설치한다. 



#### 5번. (파이썬 설치가 완료되었다면 3번 폴더 위치에서) 가상환경 생성

```bash
% python -m venv venv
```



#### 6번. 가상환경 진입

```bash
% source venv/bin/activate
```



#### 7번. 파이썬 모듈 설치

```bash
% pip install --upgrade pip
% pip install -r requirements.txt
```

###### 여기서 에러가 난다면 3번부터 정상적으로 되었는지 확인하여야 한다. 



#### 8번. 환경변수 파일 만들기

###### 프로젝트 폴더에서 파일명 my_settings.py를 만들고 아래의 내용을 붙여넣기한다. (KEY 내용은 이미 알고 있는 내용을 집어넣으면 된다.)

```python
# my_settings.py

DATABASES = {
    'default' : {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'human',
        'USER': 'root',
        'PASSWORD': 'mysecretpassword',
        'HOST': 'localhost',
        'PORT': '3306',
    'OPTIONS': {'charset': 'utf8mb4'}
    }
}

SECRET_KEY = ''
DEBUG = True

OPEN_API_SECRET_KEY = ''
OPEN_API_SECRET_KEY_CHALLENGE = ''
```



#### 9번. 로컬 환경에 Mysql 설치

###### 이미 Mysql이 설치되어있다면 이 과정은 넘어가도 된다. 만약 brew가 설치되어 있지 않다면 [이곳](https://brew.sh/index_ko)을 참고 

```bash
% brew install mysql
% brew services start mysql
```

###### 루트 비밀번호 세팅 (이곳 비밀번호가 8번 환경변수 파일 만들기의 비밀번호에 들어가야한다.)

```bash
% mysqladmin -u root password 'mysecretpassword'
```

###### 터미널에서 mysql 접속확인(터미널 아무위치에서해도 상관없음)

```bash
% mysql -u root -p
% mysecretpassword
```



#### 10번. database 생성

###### mysql에 접속하였다면 터미널 명령창이 아래와 같이 mysql> 로 바뀐다. 

```mysql
mysql> create database human character set utf8mb4 collate utf8mb4_general_ci;
```



#### 11번. Django를 이용한 Mysql DB 테이블 생성

###### 프로젝트 폴더(3번 참고)로 이동하여 아래와 같이 입력

```bash
% python manage.py migrate
```



#### 12번. Django 서버 실행

###### 프로젝트 폴더에서 아래의 명령어를 입력한다. 

```bash
% python manage.py runserver --noreload
```



#### 13번. 로컬 API테스트

###### 터미널에서 아래의 명령어를 입력한다. 자세한 API테스트는 아래 API Documentation 참고

```
curl http://localhost:8000/api/v1/research
```



---



## API Documentation

- `Deploy Address` : http://wanted-ateam.xyz/api/v1/research
  - Azure 배포 종료(~ 2022.06.01)
- [`API Documentation`](https://documenter.getpostman.com/view/18241468/UyxgK8ck)의 주소는 local로 되어있습니다. local 주소를 위의 배포주소로 교체하면 결과를 볼 수 있습니다.
